<!doctype html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <script src="testaudioworklet.js" type="module"></script>
    <style>
      body {
        background-color: black;
        color: green;
        font-family: monospace;
        padding: 10px;
      }
      button, input, select, .checkboxlabel {
        font-family: monospace;
        background-color: green;
        color: white;
        padding: 10px;
        font-size: 16px;
        border-color: green;
        border-radius: 3px;
        margin: 3px;
        user-select: none;
      }     
    </style>
</head>
<body>
  <p>webassembly music experiment - (c) 2019 peter salomonsen</p>  
  <div style="display: flex; align-items: bottom;">
    <button onclick="restartaudio()">start synth</button>
    <button onclick="stopaudio()">stop synth</button>
    
    <button onclick="clearPattern()">Clear pattern</button>
    
    <label>
      Instrument <br />
      <select id="midichannelmappingselection" onchange="currentMidiChannelMapping=this.value">
        <option value="bell">Bell</option>
        <option value="bass">Base</option>
        <option value="polyphonicpads">Pads</option>
        <option value="kick">Kick</option>
        <option value="snare">Snare</option>
        <option value="hihat">Hihat</option>
        <option value="drivelead">Lead</option>
      </select>
    </label>

    <label>
        Song <br />
        <select id="songselection" onchange="restartaudio()">
          <option value="localstoragesongcache_default">.cached</option>
          <option value="testsong">Testsong</option>
          <option value="kickbeat">Kickbeat</option>
        </select>
    </label>

    <label class="checkboxlabel">
      <input id="toggleSongPlayCheckbox" type="checkbox" checked onclick="toggleSongPlay(this.checked)" /> play song
    </label>
  </div>
  <br />
  <canvas id="glCanvas" style="width: 100%; height: 200px"></canvas>
  <script>
    window.resizeGlCanvas = function() {
        document.getElementById('glCanvas').style.height =
          (window.innerHeight - document.getElementById('glCanvas').offsetTop - 30) + 'px';
    };

    window.onresize = window.resizeGlCanvas;
    window.resizeGlCanvas();
  </script>
  <script src="visualizer/notemeter.js"></script>
</body>
</html>